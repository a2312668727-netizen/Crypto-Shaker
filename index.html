<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Crypto Shaker PRO</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@900&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        :root { --neon: #00FF41; }
        body { margin: 0; background: #000; color: white; font-family: 'Orbitron', sans-serif; overflow: hidden; height: 100vh; }
        #canvas { position: absolute; top: 0; left: 0; z-index: 10; pointer-events: none; }
        
        .app { position: relative; z-index: 5; text-align: center; width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .title { font-size: 32px; letter-spacing: 4px; margin-bottom: 30px; transition: 0.3s; }
        
        /* 震动动画 */
        .shake-anim { animation: shake 0.1s infinite; }
        @keyframes shake { 0% { transform: translate(2px, 2px); } 50% { transform: translate(-2px, -2px); } 100% { transform: translate(0,0); } }

        .wheel-wrap { position: relative; width: 300px; height: 300px; }
        .spin-border { position: absolute; width: 100%; height: 100%; border-radius: 50%; border: 6px solid #111; transition: transform 2.5s cubic-bezier(0.1, 0, 0.1, 1); }
        
        /* 霓虹呼吸灯 */
        .glow { box-shadow: 0 0 60px var(--neon); }

        .inner-content { position: absolute; top: 10px; left: 10px; width: 280px; height: 280px; border-radius: 50%; background: #0a0a0a; display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 6; }
        .coin-img { width: 85px; height: 85px; border-radius: 50%; border: 2px solid var(--neon); margin-bottom: 10px; }
        .coin-name { font-size: 48px; margin: 0; text-shadow: 0 0 10px var(--neon); }

        .btn { margin-top: 40px; padding: 18px 45px; border-radius: 50px; font-size: 18px; font-weight: 900; background: var(--neon); color: #000; border: none; box-shadow: 0 0 20px var(--neon); cursor: pointer; }
        .shaking-msg { margin-top: 20px; color: var(--neon); animation: blink 0.3s infinite; font-size: 14px; }
        @keyframes blink { 50% { opacity: 0; } }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    <div id="app" class="app" :class="{'shake-anim': isShaking}" @click="start">
        <h1 class="title" :style="{color: activeColor}">CRYPTO SHAKER</h1>

        <div class="wheel-wrap">
            <div class="spin-border" :style="{ transform: 'rotate(' + deg + 'deg)', borderColor: activeColor, boxShadow: '0 0 40px ' + activeColor }"></div>
            <div class="inner-content" :class="{glow: !isShaking && result}">
                <template v-if="result">
                    <img :src="result.logo" class="coin-img">
                    <div class="coin-name" :style="{color: activeColor}">{{ result.symbol }}</div>
                </template>
                <div v-else style="color:#222">READY?</div>
            </div>
        </div>

        <div style="height: 100px;">
            <button v-if="result && !isShaking" class="btn" @click.stop="goTrade" :style="{background: activeColor}">立即梭哈 {{result.symbol}}</button>
        </div>
        
        <div class="shaking-msg" v-show="isShaking">>>> 正在梭哈数据中 <<<</div>

        <audio id="audio-spin" src="spin.mp3" preload="auto"></audio>
        <audio id="audio-win" src="win.mp3" preload="auto"></audio>
    </div>

    <script>
        const { createApp, ref, onMounted } = Vue;
        createApp({
            setup() {
                const deg = ref(0);
                const isShaking = ref(false);
                const result = ref(null);
                const activeColor = ref('#00FF41');
                
                // 币种数据 (已包含20个)
                const COINS = [
                    { symbol: 'BTC', color: '#F7931A', logo: 'https://assets.coingecko.com/coins/images/1/large/bitcoin.png', url: 'https://www.binance.com/zh-CN/trade/BTC_USDT' },
                    { symbol: 'ETH', color: '#627EEA', logo: 'https://assets.coingecko.com/coins/images/279/large/ethereum.png', url: 'https://www.binance.com/zh-CN/trade/ETH_USDT' },
                    { symbol: 'SOL', color: '#14F195', logo: 'https://assets.coingecko.com/coins/images/4128/large/solana.png', url: 'https://www.binance.com/zh-CN/trade/SOL_USDT' },
                    { symbol: 'PEPE', color: '#379237', logo: 'https://assets.coingecko.com/coins/images/29850/large/pepe-token.png', url: 'https://www.binance.com/zh-CN/trade/PEPE_USDT' },
                    { symbol: 'DOGE', color: '#C2A633', logo: 'https://assets.coingecko.com/coins/images/5/large/dogecoin.png', url: 'https://www.binance.com/zh-CN/trade/DOGE_USDT' }
                    // ... 更多币种可在此继续添加
                ];

                const start = () => {
                    if (isShaking.value) return;
                    isShaking.value = true;
                    
                    // 播放音效
                    const spinAudio = document.getElementById('audio-spin');
                    spinAudio.currentTime = 0;
                    spinAudio.play().catch(()=>{});

                    deg.value += 1800 + Math.random() * 1000;
                    
                    let count = 0;
                    const timer = setInterval(() => {
                        const r = COINS[Math.floor(Math.random() * COINS.length)];
                        result.value = r;
                        activeColor.value = r.color;
                        if (count++ > 20) {
                            clearInterval(timer);
                            isShaking.value = false;
                            document.getElementById('audio-win').play().catch(()=>{});
                            createExplosion(); // 粒子爆炸
                        }
                    }, 80);
                };

                const goTrade = () => window.location.href = result.value.url;

                // 粒子特效逻辑
                let particles = [];
                const createExplosion = () => {
                    for(let i=0; i<50; i++) {
                        particles.push({
                            x: window.innerWidth/2,
                            y: window.innerHeight/2,
                            vx: (Math.random()-0.5)*15,
                            vy: (Math.random()-0.5)*15,
                            size: Math.random()*5 + 2,
                            color: activeColor.value
                        });
                    }
                };

                onMounted(() => {
                    const canvas = document.getElementById('canvas');
                    const ctx = canvas.getContext('2d');
                    canvas.width = window.innerWidth;
                    canvas.height = window.innerHeight;

                    function animate() {
                        ctx.clearRect(0, 0, canvas.width, canvas.height);
                        particles.forEach((p, i) => {
                            p.x += p.vx; p.y += p.vy; p.vy += 0.2;
                            ctx.fillStyle = p.color;
                            ctx.beginPath(); ctx.arc(p.x, p.y, p.size, 0, Math.PI*2); ctx.fill();
                            if(p.y > canvas.height) particles.splice(i, 1);
                        });
                        requestAnimationFrame(animate);
                    }
                    animate();
                    
                    // 摇一摇监听
                    window.addEventListener('devicemotion', (e) => {
                        if(Math.abs(e.accelerationIncludingGravity.x) > 15) start();
                    });
                });

                return { deg, isShaking, result, activeColor, start, goTrade };
            }
        }).mount('#app');
    </script>
</body>
</html>
